## 了解改动的背景

```
CodeReview不是一上来就看代码，这样有可能你会看的云里雾里，纯粹是浪费时间。CodeReview虽然是Review代码，
但是首先你的知道你要看的代码实现了什么样的功能，是在什么样的背景下去做的，清楚前因后果之后，你才能知道这个代码大概应该怎么去写，
你才能更好的去Review别人的代码、去发现别人的问题。

```

## 纵观全局

```
知道背景之后，在你脑海中就会有一个大概的编码思路，也有个流程主线。这个时候可能有两种情况，你和写代码人的思路相同，
那你就顺着你们共同的思路去帮忙Review整个流程是否正确。另一种情况就是你们思路不同，你就得看代码去了解写作者的思路，
然后确认是谁的思路有问题，或者是谁的思路更好，然后同写作者一起将这个流程优化到更优。
```

## 逐层细化

```
确定完整个流程之后，就可以逐步深入到代码细节中了，细节可以Review的地方就很多了，可以看下下一节的内容，这里就先不展开了。
```

```
总结出以下几点：

「功能性：」 代码所实现的功能是否和预期一样，是否实现了所有必须的功能？
「复杂性：」 功能实现是否过于复杂？过于复杂的代码更容易出问题，而且可维护性也会更低。
「代码风格：」 代码是否符合团队编码规范？
「文档&注释：」 如果代码功能有改动，关注下相关文档和注释有没有同步改动。错误的注释和文档可能会让未来的开发者产生理解成本。
「代码亮点：」 如果你看到变更中做得好的地方，也别吝啬你的赞美。

上面描述更偏概括性，我们来举一些更详细的例子，帮助大家理解上面几点。

代码设计良好，可读性和可维护性高。
是否有线程安全的bug。
代码没有增加不必要的复杂性。
开发者没有写一些目前没有在用的代码，这种无用的代码未来大概率也不会用，所以不要假设。
代码有适当的单元测试。
测试逻辑设计良好。
开发者使用了清晰明了的变量和函数命名。
注释清晰明了且实用，并且解释清楚了为什么这么做，而不仅仅是做了啥。
代码有相应完善的文档。
代码风格符合规范。
代码有没有更优的实现？（性能、资源占用……）
```

## 提交前先做好自审

## 写清楚变更描述

## 单个变更尽可能短

```
一个非常大的变更几乎没有Review，因为大的改动首先就很难Review，其实也更耗费时间，还有出问题的概率也更大，谁Review通过了代码但之后上线出问题，
可能是要和你一起背锅的。所以建议大家将大的代码变更尽可能拆小，因为小的变更有以下这些好处:

「代码评审更快」 与比起花30分钟评审一个大的变更相比，对Review代码的人来说花5分钟审查一系列小的变更更加容易.
Review「更加彻底。」 进行较大的更改后，审阅者和作者往往会因大量详细评论的来回移动而感到沮丧，有时这些评论会漏掉或遗漏重要的观点。
「减少导致bug的可能性。」 由于您所做的更改较少，因此您和您的审阅者更容易有效地推断出CL的影响，并查看是否导致bug。
「减少不必要的工作」 当你写了一个巨大的变更，然后评审者觉得你总体方向错了，这会导致你浪费大量的工作。
「更方便合并代码」 因为大型的变更会导致大量的冲突，因此合代码的时候会耗费很多时间，而且可能因合并代码导致问题，我们就出现过好几次代码合并的时候冲掉别人代码的情况。
「有助于你作出更好的设计」 优雅的设计并且完善一个小的改动比大的改动更加容易
「降低评审者的难度」 提审部分改动，不会影响你继续编码。
「如果真出问题，回滚更容易」 这个就不用多解释了吧。
对于那些很难拆分的变更，也不是需要完全禁止，有时候就是有改动非常大，而且无法再去拆分了，这时候还是建议通过其他方式来保证代码质量，比如全流程测试。然后也建议做好出问题时的快速恢复方案。
```

